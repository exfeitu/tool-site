---
import Layout from '../../layouts/Layout.astro';

const config = {
  slug: 'password-generator',
  title: 'Password Generator - Generate Strong Password Online Free',
  description: 'Generate strong, secure passwords online for free. Create random passwords with custom length and character types. Includes uppercase, lowercase, numbers, and symbols. No signup required.',
  keywords: 'password generator, generate password, strong password generator, random password generator, secure password generator, password maker, create password',
};

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How to generate a strong password?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Use at least 12 characters with a mix of uppercase, lowercase, numbers, and symbols. Our generator creates cryptographically secure random passwords."
      }
    },
    {
      "@type": "Question",
      "name": "What makes a password strong?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "A strong password is at least 12 characters long and includes uppercase letters, lowercase letters, numbers, and special symbols."
      }
    },
    {
      "@type": "Question",
      "name": "Is this password generator secure?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! All passwords are generated locally in your browser using cryptographically secure random functions. Nothing is sent to any server."
      }
    }
  ]
};
---

<Layout title={config.title} description={config.description} keywords={config.keywords}>
  <script type="application/ld+json">
    {JSON.stringify(faqSchema)}
  </script>
  <div class="max-w-4xl mx-auto px-4">
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-3">
        üîê Password Generator
      </h1>
      <p class="text-lg text-gray-600">
        Generate strong, secure passwords instantly. Customize length and character types. Fast, secure, and completely free.
      </p>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <div class="mb-6">
        <div class="block text-sm font-semibold text-gray-700 mb-2">
          üîë Generated Password:
        </div>
        <div class="flex gap-3">
          <input
            id="password-output"
            type="text"
            class="flex-1 p-4 border-2 border-gray-300 rounded-lg font-mono text-lg bg-gray-50"
            readonly
            placeholder="Click 'Generate Password' to create..."
          />
          <button
            id="copy-btn"
            class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors hidden"
          >
            üìã Copy
          </button>
        </div>
      </div>

      <div class="mb-6">
        <div class="flex items-center justify-between mb-2">
          <div class="text-sm font-semibold text-gray-700">
            Password Length: <span id="length-value" class="text-blue-600">16</span>
          </div>
        </div>
        <input
          id="length-slider"
          type="range"
          min="8"
          max="64"
          value="16"
          class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"
        />
        <div class="flex justify-between text-xs text-gray-500 mt-1">
          <span>8</span>
          <span>64</span>
        </div>
      </div>

      <div class="mb-6 space-y-3">
        <div class="text-sm font-semibold text-gray-700 mb-2">
          Character Types:
        </div>
        <label class="flex items-center gap-3 cursor-pointer">
          <input type="checkbox" id="uppercase" checked class="w-5 h-5 text-blue-600 rounded">
          <span class="text-gray-700">Uppercase Letters (A-Z)</span>
        </label>
        <label class="flex items-center gap-3 cursor-pointer">
          <input type="checkbox" id="lowercase" checked class="w-5 h-5 text-blue-600 rounded">
          <span class="text-gray-700">Lowercase Letters (a-z)</span>
        </label>
        <label class="flex items-center gap-3 cursor-pointer">
          <input type="checkbox" id="numbers" checked class="w-5 h-5 text-blue-600 rounded">
          <span class="text-gray-700">Numbers (0-9)</span>
        </label>
        <label class="flex items-center gap-3 cursor-pointer">
          <input type="checkbox" id="symbols" checked class="w-5 h-5 text-blue-600 rounded">
          <span class="text-gray-700">Symbols (!@#$%^&*)</span>
        </label>
      </div>

      <button
        id="generate-btn"
        class="w-full bg-blue-600 text-white px-6 py-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md text-lg"
      >
        üîê Generate Password
      </button>

      <div id="strength-output" class="hidden mt-4 p-4 rounded-lg">
        <div class="text-sm font-semibold mb-2">Password Strength:</div>
        <div class="flex gap-1">
          <div class="strength-bar flex-1 h-2 bg-gray-200 rounded"></div>
          <div class="strength-bar flex-1 h-2 bg-gray-200 rounded"></div>
          <div class="strength-bar flex-1 h-2 bg-gray-200 rounded"></div>
          <div class="strength-bar flex-1 h-2 bg-gray-200 rounded"></div>
        </div>
        <div id="strength-text" class="text-sm mt-2"></div>
      </div>

      <div id="error-output" class="hidden mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg text-red-700"></div>
    </div>

    <div class="bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 mb-8">
      <div class="flex items-start gap-2">
        <span class="text-2xl">üîí</span>
        <div>
          <strong class="text-yellow-900">Security Note:</strong>
          <p class="text-yellow-800 text-sm mt-1">
            All passwords are generated locally in your browser. Nothing is sent to any server. Your passwords are completely private.
          </p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Password Security Tips
      </h2>
      <ul class="space-y-2 text-gray-700">
        <li class="flex items-start gap-2">
          <span class="text-green-600 font-bold">‚úì</span>
          <span>Use at least 12 characters (16+ recommended)</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-600 font-bold">‚úì</span>
          <span>Include uppercase, lowercase, numbers, and symbols</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-600 font-bold">‚úì</span>
          <span>Use unique passwords for each account</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-green-600 font-bold">‚úì</span>
          <span>Use a password manager to store passwords</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-red-600 font-bold">‚úó</span>
          <span>Don't use personal information (birthdays, names)</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-red-600 font-bold">‚úó</span>
          <span>Don't reuse passwords across multiple sites</span>
        </li>
      </ul>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Frequently Asked Questions
      </h2>
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">How to generate a strong password?</h3>
          <p class="text-gray-600">
            Use at least 12 characters with a mix of uppercase, lowercase, numbers, and symbols. Our generator creates cryptographically secure random passwords.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">What makes a password strong?</h3>
          <p class="text-gray-600">
            A strong password is at least 12 characters long and includes uppercase letters, lowercase letters, numbers, and special symbols.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">Is this password generator secure?</h3>
          <p class="text-gray-600">
            Yes! All passwords are generated locally in your browser using cryptographically secure random functions. Nothing is sent to any server.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">How long should my password be?</h3>
          <p class="text-gray-600">
            Minimum 12 characters, but 16+ is recommended for better security. Longer passwords are exponentially harder to crack.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">Should I use symbols in my password?</h3>
          <p class="text-gray-600">
            Yes! Including symbols significantly increases password strength and makes it harder to crack with brute force attacks.
          </p>
        </div>
      </div>
    </div>

    <div class="bg-gray-100 rounded-lg p-6">
      <h2 class="text-xl font-bold text-gray-900 mb-3">Related Tools</h2>
      <div class="flex gap-3 flex-wrap">
        <a href="/tools/md5-hash-generator" class="text-blue-600 hover:text-blue-800 font-medium">MD5 Hash Generator</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/uuid-generator" class="text-blue-600 hover:text-blue-800 font-medium">UUID Generator</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/base64-encode-decode" class="text-blue-600 hover:text-blue-800 font-medium">Base64 Encode/Decode</a>
      </div>
    </div>
  </div>

  <script type="module">
    const generateBtn = document.getElementById('generate-btn');
    const copyBtn = document.getElementById('copy-btn');
    const passwordOutput = document.getElementById('password-output');
    const lengthSlider = document.getElementById('length-slider');
    const lengthValue = document.getElementById('length-value');
    const uppercaseCheck = document.getElementById('uppercase');
    const lowercaseCheck = document.getElementById('lowercase');
    const numbersCheck = document.getElementById('numbers');
    const symbolsCheck = document.getElementById('symbols');
    const strengthOutput = document.getElementById('strength-output');
    const strengthText = document.getElementById('strength-text');
    const errorOutput = document.getElementById('error-output');

    const charSets = {
      uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
      lowercase: 'abcdefghijklmnopqrstuvwxyz',
      numbers: '0123456789',
      symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
    };

    if (lengthSlider) {
      lengthSlider.addEventListener('input', (e) => {
        lengthValue.textContent = e.target.value;
      });
    }

    function generatePassword() {
      const length = parseInt(lengthSlider.value);
      let charset = '';

      if (uppercaseCheck.checked) charset += charSets.uppercase;
      if (lowercaseCheck.checked) charset += charSets.lowercase;
      if (numbersCheck.checked) charset += charSets.numbers;
      if (symbolsCheck.checked) charset += charSets.symbols;

      if (charset === '') {
        showError('Please select at least one character type');
        return null;
      }

      let password = '';
      const array = new Uint32Array(length);
      crypto.getRandomValues(array);

      for (let i = 0; i < length; i++) {
        password += charset[array[i] % charset.length];
      }

      return password;
    }

    function calculateStrength(password) {
      let strength = 0;
      if (password.length >= 12) strength++;
      if (password.length >= 16) strength++;
      if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
      if (/[0-9]/.test(password)) strength++;
      if (/[^a-zA-Z0-9]/.test(password)) strength++;

      return Math.min(strength, 4);
    }

    function displayStrength(strength) {
      const bars = document.querySelectorAll('.strength-bar');
      const colors = ['#ef4444', '#f59e0b', '#eab308', '#22c55e'];
      const labels = ['Weak', 'Fair', 'Good', 'Strong'];

      bars.forEach((bar, index) => {
        if (index < strength) {
          bar.style.backgroundColor = colors[strength - 1];
        } else {
          bar.style.backgroundColor = '#e5e7eb';
        }
      });

      strengthText.textContent = labels[strength - 1] || 'Very Weak';
      strengthText.style.color = colors[strength - 1] || '#ef4444';
    }

    if (generateBtn) {
      generateBtn.addEventListener('click', () => {
        const password = generatePassword();
        
        if (password) {
          passwordOutput.value = password;
          if (copyBtn) {
            copyBtn.classList.remove('hidden');
          }
          
          const strength = calculateStrength(password);
          displayStrength(strength);
          strengthOutput.classList.remove('hidden');
          errorOutput.classList.add('hidden');
        }
      });
    }

    if (copyBtn) {
      copyBtn.addEventListener('click', () => {
        passwordOutput.select();
        document.execCommand('copy');
        const originalText = copyBtn.textContent;
        copyBtn.textContent = '‚úÖ Copied!';
        setTimeout(() => {
          copyBtn.textContent = originalText;
        }, 2000);
      });
    }

    function showError(message) {
      errorOutput.textContent = message;
      errorOutput.classList.remove('hidden');
      passwordOutput.value = '';
      if (copyBtn) {
        copyBtn.classList.add('hidden');
      }
      strengthOutput.classList.add('hidden');
    }

    // Generate initial password
    window.addEventListener('DOMContentLoaded', () => {
      generateBtn?.click();
    });
  </script>
</Layout>

