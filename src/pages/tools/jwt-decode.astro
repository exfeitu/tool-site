---
import Layout from '../../layouts/Layout.astro';

// ÈÖçÁΩÆÊï∞ÊçÆ
const config = {
  slug: 'jwt-decode',
  title: 'JWT Decode ‚Äì Decode JWT Token Online Free',
  description: 'Decode JWT tokens online for free. Paste your JWT token and instantly view header, payload, and signature. Supports verification without secret. No signup required.',
  keywords: 'jwt decode, jwt decode token, jwt decode online, jwt decode without secret, jwt decode verify signature, python jwt decode, jwt decode npm, jwt decode locally, access token jwt decode',
};

// FAQ Schema (ÁªìÊûÑÂåñÊï∞ÊçÆ)
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How to decode JWT token online?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Simply paste your JWT token into our decoder. It will instantly display the header, payload, and signature. All processing happens in your browser for maximum security."
      }
    },
    {
      "@type": "Question",
      "name": "Can I decode JWT without secret?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! You can decode and view JWT token contents without the secret key. However, you need the secret to verify the signature."
      }
    },
    {
      "@type": "Question",
      "name": "How to decode JWT in Python?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "While you can use PyJWT library in Python, our online tool is faster for quick JWT decoding without writing code."
      }
    },
    {
      "@type": "Question",
      "name": "How to verify JWT signature?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "To verify JWT signature, you need the secret key used to sign the token. Our tool can decode tokens, but signature verification requires the original secret."
      }
    },
    {
      "@type": "Question",
      "name": "Is this JWT decoder free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! 100% free, no signup required, unlimited decoding. All processing happens locally in your browser for security."
      }
    }
  ]
};
---

<Layout title={config.title} description={config.description} keywords={config.keywords}>
  <script type="application/ld+json" slot="structured-data" set:html={JSON.stringify(faqSchema)} />
  <div class="max-w-4xl mx-auto px-4">
    <!-- Ê†áÈ¢òÂå∫ -->
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-3">
        üîê JWT Decode
      </h1>
      <p class="text-lg text-gray-600">
        Decode JWT tokens instantly. View header, payload, and signature. Fast, secure, and completely free.
      </p>
    </div>

    <!-- Â∑•ÂÖ∑‰∏ª‰Ωì -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <!-- ËæìÂÖ•Âå∫ -->
      <div class="mb-6">
        <label for="jwt-input" class="block text-sm font-semibold text-gray-700 mb-2">
          üîë Paste your JWT token here:
        </label>
        <textarea
          id="jwt-input"
          class="w-full h-32 p-4 border-2 border-gray-300 rounded-lg font-mono text-sm focus:border-blue-500 focus:outline-none resize-none"
          placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        ></textarea>
        <p class="text-xs text-gray-500 mt-1">
          üí° Tip: Works with access tokens, ID tokens, and refresh tokens
        </p>
      </div>

      <!-- ÊåâÈíÆÁªÑ -->
      <div class="flex gap-3 mb-6">
        <button
          id="decode-btn"
          class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md"
        >
          ‚ö° Decode JWT
        </button>
        <button
          id="clear-btn"
          class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors"
        >
          üóëÔ∏è Clear
        </button>
      </div>

      <!-- ËæìÂá∫Âå∫ -->
      <div class="space-y-4" id="output-container" style="display: none;">
        <!-- Header -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            üìã Header:
          </label>
          <pre id="header-output" class="w-full p-4 border-2 border-gray-300 rounded-lg font-mono text-sm bg-gray-50 overflow-x-auto"></pre>
        </div>

        <!-- Payload -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            üì¶ Payload:
          </label>
          <pre id="payload-output" class="w-full p-4 border-2 border-gray-300 rounded-lg font-mono text-sm bg-gray-50 overflow-x-auto"></pre>
        </div>

        <!-- Signature -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            üîè Signature:
          </label>
          <pre id="signature-output" class="w-full p-4 border-2 border-gray-300 rounded-lg font-mono text-sm bg-gray-50 overflow-x-auto"></pre>
        </div>
      </div>

      <!-- ÈîôËØØÊèêÁ§∫ -->
      <div id="error-output" class="hidden mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg text-red-700"></div>
    </div>

    <!-- ‰ΩøÁî®ËØ¥Êòé -->
    <div class="bg-blue-50 rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        How to Decode JWT Token?
      </h2>
      <ol class="list-decimal list-inside space-y-2 text-gray-700">
        <li><strong>Paste your JWT token</strong> into the input box above</li>
        <li><strong>Click "Decode JWT"</strong> button</li>
        <li><strong>View the decoded header and payload</strong> instantly</li>
        <li><strong>All processing happens locally</strong> in your browser for security</li>
      </ol>
    </div>

    <!-- Example Á§∫‰æãÂå∫ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Example: Decode JWT Token
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Input JWT Token:</h3>
          <pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm"><code>{`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c`}</code></pre>
        </div>

        <div class="text-center text-gray-400 text-2xl">‚Üì</div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Decoded Payload:</h3>
          <pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm"><code>{`{
  "sub": "1234567890",
  "name": "John Doe",
  "iat": 1516239022
}`}</code></pre>
        </div>
      </div>
    </div>

    <!-- FAQ / ÈïøÂ∞æËØçË¶ÜÁõñ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Frequently Asked Questions
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to decode JWT token online?
          </h3>
          <p class="text-gray-600">
            Simply paste your JWT token into our decoder. It will instantly display the header, payload, and signature. All processing happens in your browser for maximum security.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            Can I decode JWT without secret?
          </h3>
          <p class="text-gray-600">
            Yes! You can decode and view JWT token contents without the secret key. However, you need the secret to verify the signature.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to decode JWT in Python?
          </h3>
          <p class="text-gray-600">
            While you can use PyJWT library in Python, our online tool is faster for quick JWT decoding without writing code.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to verify JWT signature?
          </h3>
          <p class="text-gray-600">
            To verify JWT signature, you need the secret key used to sign the token. Our tool can decode tokens, but signature verification requires the original secret.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            Is this JWT decoder free?
          </h3>
          <p class="text-gray-600">
            Yes! 100% free, no signup required, unlimited decoding. All processing happens locally in your browser for security.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            What is JWT decode npm?
          </h3>
          <p class="text-gray-600">
            jwt-decode is a popular npm package for decoding JWT tokens in Node.js applications. Our online tool provides the same functionality without installation.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to decode access token JWT?
          </h3>
          <p class="text-gray-600">
            Access tokens are often JWT format. Simply paste your access token into our decoder to view its contents, including user information and expiration time.
          </p>
        </div>
      </div>
    </div>

    <!-- Áõ∏ÂÖ≥Â∑•ÂÖ∑ÔºàÂÜÖÈìæÔºâ -->
    <div class="bg-gray-100 rounded-lg p-6">
      <h2 class="text-xl font-bold text-gray-900 mb-3">
        Related Tools
      </h2>
      <div class="flex gap-3 flex-wrap">
        <a href="/tools/json-to-csv" class="text-blue-600 hover:text-blue-800 font-medium">JSON to CSV</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/json-beautifier" class="text-blue-600 hover:text-blue-800 font-medium">JSON Beautifier</a>
        <span class="text-gray-300">‚Ä¢</span>
        <span class="text-gray-500">Base64 Decode (Coming Soon)</span>
      </div>
    </div>
  </div>

  <script is:inline>
    // JWT Decode ÈÄªËæë
    const decodeBtn = document.getElementById('decode-btn');
    const clearBtn = document.getElementById('clear-btn');
    const jwtInput = document.getElementById('jwt-input');
    const outputContainer = document.getElementById('output-container');
    const headerOutput = document.getElementById('header-output');
    const payloadOutput = document.getElementById('payload-output');
    const signatureOutput = document.getElementById('signature-output');
    const errorOutput = document.getElementById('error-output');

    // Base64 URL decode
    function base64UrlDecode(str) {
      // Replace URL-safe characters
      str = str.replace(/-/g, '+').replace(/_/g, '/');
      // Pad with '=' to make length multiple of 4
      while (str.length % 4) {
        str += '=';
      }
      try {
        return decodeURIComponent(atob(str).split('').map(function(c) {
          return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));
      } catch (e) {
        return atob(str);
      }
    }

    decodeBtn?.addEventListener('click', () => {
      const token = jwtInput.value.trim();
      
      if (!token) {
        showError('Please paste a JWT token first');
        return;
      }

      try {
        // Split JWT into parts
        const parts = token.split('.');
        
        if (parts.length !== 3) {
          throw new Error('Invalid JWT format. JWT should have 3 parts separated by dots.');
        }

        // Decode header
        const header = JSON.parse(base64UrlDecode(parts[0]));
        
        // Decode payload
        const payload = JSON.parse(base64UrlDecode(parts[1]));
        
        // Signature (keep as is)
        const signature = parts[2];

        // Display results
        headerOutput.textContent = JSON.stringify(header, null, 2);
        payloadOutput.textContent = JSON.stringify(payload, null, 2);
        signatureOutput.textContent = signature;

        // Show output, hide error
        outputContainer.style.display = 'block';
        errorOutput.classList.add('hidden');

      } catch (e) {
        showError(`Error: ${e.message}\n\nPlease check your JWT token format.`);
      }
    });

    clearBtn?.addEventListener('click', () => {
      jwtInput.value = '';
      outputContainer.style.display = 'none';
      errorOutput.classList.add('hidden');
    });

    function showError(message) {
      errorOutput.textContent = message;
      errorOutput.classList.remove('hidden');
      outputContainer.style.display = 'none';
    }
  </script>
</Layout>

