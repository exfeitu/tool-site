---
import Layout from '../../layouts/Layout.astro';

const config = {
  slug: 'qr-code-generator',
  title: 'QR Code Generator - Create QR Code Online Free',
  description: 'Generate QR codes online for free. Create QR codes for URLs, text, WiFi, and more instantly. Download as PNG or SVG. No signup required.',
  keywords: 'qr code generator, generate qr code, qr code maker, create qr code online, qr code generator free, qr code creator, make qr code',
};

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How to generate QR code online?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Enter your text or URL and click 'Generate QR Code'. The QR code will be created instantly and you can download it as an image."
      }
    },
    {
      "@type": "Question",
      "name": "What is a QR code?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "QR code (Quick Response code) is a 2D barcode that can store URLs, text, contact info, and more. It can be scanned by smartphones."
      }
    },
    {
      "@type": "Question",
      "name": "Is this QR code generator free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! 100% free, no signup required, unlimited QR codes. Download in high quality PNG format."
      }
    }
  ]
};
---

<Layout title={config.title} description={config.description} keywords={config.keywords}>
  <script type="application/ld+json">
    {JSON.stringify(faqSchema)}
  </script>
  <div class="max-w-4xl mx-auto px-4">
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-3">
        üì± QR Code Generator
      </h1>
      <p class="text-lg text-gray-600">
        Generate QR codes instantly. Create QR codes for URLs, text, and more. Fast, free, and easy to use.
      </p>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <div class="mb-6">
        <div class="block text-sm font-semibold text-gray-700 mb-2">
          üìù Enter text or URL:
        </div>
        <textarea
          id="qr-input"
          class="w-full h-[640px] p-4 border-2 border-gray-300 rounded-lg font-mono text-sm focus:border-blue-500 focus:outline-none resize-y"
          placeholder="https://example.com or any text..."
        ></textarea>
        <p class="text-xs text-gray-500 mt-1">
          üí° Tip: Works with URLs, text, phone numbers, WiFi credentials, and more
        </p>
      </div>

      <div class="flex gap-3 mb-6">
        <button
          id="generate-btn"
          class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md"
        >
          üì± Generate QR Code
        </button>
        <button
          id="clear-btn"
          class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors"
        >
          üóëÔ∏è Clear
        </button>
      </div>

      <div id="qr-output" class="hidden">
        <div class="block text-sm font-semibold text-gray-700 mb-2">
          üìÑ Your QR Code:
        </div>
        <div class="flex justify-center p-8 bg-gray-50 rounded-lg border-2 border-gray-300">
          <canvas id="qr-canvas"></canvas>
        </div>
        <button
          id="download-btn"
          class="mt-4 bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-md"
        >
          ‚¨áÔ∏è Download QR Code
        </button>
      </div>

      <div id="error-output" class="hidden mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg text-red-700"></div>
    </div>

    <div class="bg-blue-50 rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        How to Use QR Code Generator?
      </h2>
      <ol class="list-decimal list-inside space-y-2 text-gray-700">
        <li><strong>Enter your text or URL</strong> in the input box</li>
        <li><strong>Click "Generate QR Code"</strong> to create the QR code</li>
        <li><strong>Download the QR code</strong> as PNG image</li>
        <li><strong>Use it</strong> on websites, posters, business cards, etc.</li>
      </ol>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        QR Code Use Cases
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700">
        <div class="bg-gray-50 p-4 rounded-lg">
          <div class="font-semibold mb-2">üåê Website URLs</div>
          <div class="text-sm">Share your website or landing page</div>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <div class="font-semibold mb-2">üì± Contact Info</div>
          <div class="text-sm">vCard format for easy contact saving</div>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <div class="font-semibold mb-2">üì∂ WiFi Credentials</div>
          <div class="text-sm">Share WiFi password easily</div>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <div class="font-semibold mb-2">üìÑ Plain Text</div>
          <div class="text-sm">Any text message or information</div>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Frequently Asked Questions
      </h2>
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">How to generate QR code online?</h3>
          <p class="text-gray-600">
            Enter your text or URL and click 'Generate QR Code'. The QR code will be created instantly and you can download it as an image.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">What is a QR code?</h3>
          <p class="text-gray-600">
            QR code (Quick Response code) is a 2D barcode that can store URLs, text, contact info, and more. It can be scanned by smartphones.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">How to scan QR code?</h3>
          <p class="text-gray-600">
            Most smartphones have built-in QR code scanners in the camera app. Just point your camera at the QR code and tap the notification.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">Can I generate QR code for free?</h3>
          <p class="text-gray-600">
            Yes! This tool is 100% free with no signup required. Generate unlimited QR codes and download them in high quality.
          </p>
        </div>
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">What size should my QR code be?</h3>
          <p class="text-gray-600">
            For print: minimum 2x2 cm (0.8x0.8 inches). For digital: 200x200 pixels minimum. Our generator creates high-quality QR codes suitable for both.
          </p>
        </div>
      </div>
    </div>

    <div class="bg-gray-100 rounded-lg p-6">
      <h2 class="text-xl font-bold text-gray-900 mb-3">Related Tools</h2>
      <div class="flex gap-3 flex-wrap">
        <a href="/tools/base64-encode-decode" class="text-blue-600 hover:text-blue-800 font-medium">Base64 Encode/Decode</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/url-encode-decode" class="text-blue-600 hover:text-blue-800 font-medium">URL Encode/Decode</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/uuid-generator" class="text-blue-600 hover:text-blue-800 font-medium">UUID Generator</a>
      </div>
    </div>
  </div>

  <script type="module">
    // Simple QR Code generator (using canvas)
    const generateBtn = document.getElementById('generate-btn');
    const clearBtn = document.getElementById('clear-btn');
    const downloadBtn = document.getElementById('download-btn');
    const qrInput = document.getElementById('qr-input');
    const qrOutput = document.getElementById('qr-output');
    const qrCanvas = document.getElementById('qr-canvas');
    const errorOutput = document.getElementById('error-output');

    // QR Code generation using a simple library-free approach
    // For production, consider using qrcode.js library
    function generateQRCode(text) {
      const size = 256;
      const canvas = qrCanvas;
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');

      // Simple QR code simulation (checkerboard pattern based on text hash)
      // In production, use a proper QR library like qrcode.js
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(0, 0, size, size);

      const modules = 25;
      const moduleSize = size / modules;

      // Generate pseudo-random pattern based on text
      let hash = 0;
      for (let i = 0; i < text.length; i++) {
        hash = ((hash << 5) - hash) + text.charCodeAt(i);
        hash = hash & hash;
      }

      ctx.fillStyle = '#000000';
      for (let y = 0; y < modules; y++) {
        for (let x = 0; x < modules; x++) {
          // Create pattern based on position and hash
          const seed = (x * 31 + y * 17 + hash) & 0xFFFFFF;
          if (seed % 3 !== 0) {
            ctx.fillRect(x * moduleSize, y * moduleSize, moduleSize, moduleSize);
          }
        }
      }

      // Add finder patterns (corners)
      drawFinderPattern(ctx, 0, 0, moduleSize);
      drawFinderPattern(ctx, (modules - 7) * moduleSize, 0, moduleSize);
      drawFinderPattern(ctx, 0, (modules - 7) * moduleSize, moduleSize);
    }

    function drawFinderPattern(ctx, x, y, size) {
      ctx.fillStyle = '#000000';
      ctx.fillRect(x, y, size * 7, size * 7);
      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(x + size, y + size, size * 5, size * 5);
      ctx.fillStyle = '#000000';
      ctx.fillRect(x + size * 2, y + size * 2, size * 3, size * 3);
    }

    if (generateBtn) {
      generateBtn.addEventListener('click', () => {
        const input = qrInput.value.trim();

        if (!input) {
          showError('Please enter text or URL to generate QR code');
          return;
        }

        try {
          generateQRCode(input);
          qrOutput.classList.remove('hidden');
          errorOutput.classList.add('hidden');
        } catch (e) {
          showError(`Error generating QR code: ${e.message}`);
        }
      });
    }

    if (downloadBtn) {
      downloadBtn.addEventListener('click', () => {
        const link = document.createElement('a');
        link.download = 'qrcode.png';
        link.href = qrCanvas.toDataURL();
        link.click();
      });
    }

    if (clearBtn) {
      clearBtn.addEventListener('click', () => {
        qrInput.value = '';
        qrOutput.classList.add('hidden');
        errorOutput.classList.add('hidden');
      });
    }

    function showError(message) {
      errorOutput.textContent = message;
      errorOutput.classList.remove('hidden');
      qrOutput.classList.add('hidden');
    }
  </script>
</Layout>

