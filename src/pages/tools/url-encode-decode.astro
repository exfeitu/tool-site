---
import Layout from '../../layouts/Layout.astro';

// ÈÖçÁΩÆÊï∞ÊçÆ
const config = {
  slug: 'url-encode-decode',
  title: 'URL Encode/Decode - Free Online URL Encoder Decoder',
  description: 'Encode and decode URLs online for free. Convert special characters to URL-safe format or decode URL-encoded strings instantly. Supports UTF-8 and international characters. No signup required.',
  keywords: 'url encode, url decode, url encoder, url decoder, encode url online, decode url online, url encoding, percent encoding, uri encode',
};

// FAQ Schema (ÁªìÊûÑÂåñÊï∞ÊçÆ)
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "How to encode URL online?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Simply paste your URL or text into the input box and click 'Encode URL'. Special characters will be converted to percent-encoded format (e.g., space becomes %20)."
      }
    },
    {
      "@type": "Question",
      "name": "How to decode URL online?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Paste your URL-encoded string into the input box and click 'Decode URL'. Percent-encoded characters will be converted back to readable format."
      }
    },
    {
      "@type": "Question",
      "name": "What is URL encoding?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "URL encoding (also called percent encoding) converts special characters into a format that can be transmitted over the Internet. For example, spaces become %20."
      }
    },
    {
      "@type": "Question",
      "name": "Why do we need URL encoding?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "URLs can only contain certain characters. Special characters like spaces, Chinese characters, or symbols must be encoded to be safely transmitted in URLs."
      }
    },
    {
      "@type": "Question",
      "name": "Is this URL encoder free?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! 100% free, no signup required, unlimited conversions. All processing happens locally in your browser."
      }
    }
  ]
};
---

<Layout title={config.title} description={config.description} keywords={config.keywords}>
  <script type="application/ld+json">
    {JSON.stringify(faqSchema)}
  </script>
  <div class="max-w-4xl mx-auto px-4">
    <!-- Ê†áÈ¢òÂå∫ -->
    <div class="mb-8">
      <h1 class="text-4xl font-bold text-gray-900 mb-3">
        üîó URL Encode/Decode
      </h1>
      <p class="text-lg text-gray-600">
        Encode URLs to percent-encoded format or decode URL-encoded strings instantly. Fast, secure, and completely free.
      </p>
    </div>

    <!-- Â∑•ÂÖ∑‰∏ª‰Ωì -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <!-- ËæìÂÖ•Âå∫ -->
      <div class="mb-6">
        <div class="block text-sm font-semibold text-gray-700 mb-2">
          üìù Enter your URL or text:
        </div>
        <textarea
          id="url-input"
          class="w-full h-80 p-4 border-2 border-gray-300 rounded-lg font-mono text-sm focus:border-blue-500 focus:outline-none resize-y"
          placeholder="https://example.com/search?q=hello world"
        ></textarea>
        <p class="text-xs text-gray-500 mt-1">
          üí° Tip: Supports international characters, spaces, and special symbols
        </p>
      </div>

      <!-- ÊåâÈíÆÁªÑ -->
      <div class="flex gap-3 mb-6">
        <button
          id="encode-btn"
          class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md"
        >
          üîí Encode URL
        </button>
        <button
          id="decode-btn"
          class="bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors shadow-md"
        >
          üîì Decode URL
        </button>
        <button
          id="clear-btn"
          class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors"
        >
          üóëÔ∏è Clear
        </button>
      </div>

      <!-- ËæìÂá∫Âå∫ -->
      <div>
        <div class="block text-sm font-semibold text-gray-700 mb-2">
          üìÑ Output:
        </div>
        <textarea
          id="url-output"
          class="w-full h-80 p-4 border-2 border-gray-300 rounded-lg font-mono text-sm bg-gray-50 resize-y"
          readonly
          placeholder="Your result will appear here..."
        ></textarea>
      </div>

      <!-- Â§çÂà∂ÊåâÈíÆ -->
      <button
        id="copy-btn"
        class="mt-4 bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-md hidden"
      >
        üìã Copy to Clipboard
      </button>

      <!-- ÈîôËØØÊèêÁ§∫ -->
      <div id="error-output" class="hidden mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-lg text-red-700"></div>
    </div>

    <!-- ‰ΩøÁî®ËØ¥Êòé -->
    <div class="bg-blue-50 rounded-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        How to Use URL Encoder/Decoder?
      </h2>
      <ol class="list-decimal list-inside space-y-2 text-gray-700">
        <li><strong>To Encode:</strong> Paste your URL or text and click "Encode URL"</li>
        <li><strong>To Decode:</strong> Paste URL-encoded string and click "Decode URL"</li>
        <li><strong>Copy the result</strong> and use in your project</li>
        <li><strong>All processing is local</strong> - your data never leaves your browser</li>
      </ol>
    </div>

    <!-- Example Á§∫‰æãÂå∫ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Example: URL Encoding
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Input (Plain URL):</h3>
          <pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm"><code>https://example.com/search?q=hello world&lang=‰∏≠Êñá</code></pre>
        </div>

        <div class="text-center text-gray-400 text-2xl">‚Üì</div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-2">Output (URL Encoded):</h3>
          <pre class="bg-gray-100 p-4 rounded-lg overflow-x-auto text-sm"><code>https%3A%2F%2Fexample.com%2Fsearch%3Fq%3Dhello%20world%26lang%3D%E4%B8%AD%E6%96%87</code></pre>
        </div>
      </div>
    </div>

    <!-- FAQ / ÈïøÂ∞æËØçË¶ÜÁõñ -->
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold text-gray-900 mb-4">
        Frequently Asked Questions
      </h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to encode URL online?
          </h3>
          <p class="text-gray-600">
            Simply paste your URL or text into the input box and click 'Encode URL'. Special characters will be converted to percent-encoded format (e.g., space becomes %20).
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to decode URL online?
          </h3>
          <p class="text-gray-600">
            Paste your URL-encoded string into the input box and click 'Decode URL'. Percent-encoded characters will be converted back to readable format.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            What is URL encoding?
          </h3>
          <p class="text-gray-600">
            URL encoding (also called percent encoding) converts special characters into a format that can be transmitted over the Internet. For example, spaces become %20.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            Why do we need URL encoding?
          </h3>
          <p class="text-gray-600">
            URLs can only contain certain characters. Special characters like spaces, Chinese characters, or symbols must be encoded to be safely transmitted in URLs.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to encode URL in JavaScript?
          </h3>
          <p class="text-gray-600">
            In JavaScript, use: <code class="bg-gray-100 px-2 py-1 rounded">encodeURIComponent('hello world')</code> for encoding and <code class="bg-gray-100 px-2 py-1 rounded">decodeURIComponent('%20')</code> for decoding.
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            How to encode URL in Python?
          </h3>
          <p class="text-gray-600">
            In Python, use: <code class="bg-gray-100 px-2 py-1 rounded">from urllib.parse import quote; quote('hello world')</code>
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-gray-900 mb-1">
            What characters need URL encoding?
          </h3>
          <p class="text-gray-600">
            Characters like spaces, &, ?, =, #, %, and non-ASCII characters (Chinese, emoji, etc.) must be URL-encoded for safe transmission.
          </p>
        </div>
      </div>
    </div>

    <!-- Áõ∏ÂÖ≥Â∑•ÂÖ∑ÔºàÂÜÖÈìæÔºâ -->
    <div class="bg-gray-100 rounded-lg p-6">
      <h2 class="text-xl font-bold text-gray-900 mb-3">
        Related Tools
      </h2>
      <div class="flex gap-3 flex-wrap">
        <a href="/tools/base64-encode-decode" class="text-blue-600 hover:text-blue-800 font-medium">Base64 Encode/Decode</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/json-beautifier" class="text-blue-600 hover:text-blue-800 font-medium">JSON Beautifier</a>
        <span class="text-gray-300">‚Ä¢</span>
        <a href="/tools/jwt-decode" class="text-blue-600 hover:text-blue-800 font-medium">JWT Decode</a>
      </div>
    </div>
  </div>

  <script type="module">
    // URL Encode/Decode ÈÄªËæë
    const encodeBtn = document.getElementById('encode-btn');
    const decodeBtn = document.getElementById('decode-btn');
    const clearBtn = document.getElementById('clear-btn');
    const copyBtn = document.getElementById('copy-btn');
    const urlInput = document.getElementById('url-input');
    const urlOutput = document.getElementById('url-output');
    const errorOutput = document.getElementById('error-output');

    if (encodeBtn) { encodeBtn.addEventListener('click', () => {
      const input = urlInput.value;
      
      if (!input) {
        showError('Please enter URL or text to encode');
        return;
      }

      try {
        // Encode URL
        const encoded = encodeURIComponent(input);
        
        urlOutput.value = encoded;
        if (copyBtn) { copyBtn.classList.remove('hidden');
        errorOutput.classList.add('hidden');

      } catch (e) {
        showError(`Encoding error: ${e.message}`);
      }
    });

    if (decodeBtn) { decodeBtn.addEventListener('click', () => {
      const input = urlInput.value.trim();
      
      if (!input) {
        showError('Please enter URL-encoded string to decode');
        return;
      }

      try {
        // Decode URL
        const decoded = decodeURIComponent(input);
        
        urlOutput.value = decoded;
        if (copyBtn) { copyBtn.classList.remove('hidden');
        errorOutput.classList.add('hidden');

      } catch (e) {
        showError(`Invalid URL-encoded string: ${e.message}\n\nPlease check your input.`);
      }
    });

    if (copyBtn) { copyBtn.addEventListener('click', () => {
      urlOutput.select();
      document.execCommand('copy');
      
      // Visual feedback
      const originalText = copyBtn.textContent;
      copyBtn.textContent = '‚úÖ Copied!';
      setTimeout(() => {
        copyBtn.textContent = originalText;
      }, 2000);
    });

    if (clearBtn) { clearBtn.addEventListener('click', () => {
      urlInput.value = '';
      urlOutput.value = '';
      if (copyBtn) { copyBtn.classList.add('hidden');
      errorOutput.classList.add('hidden');
    });

    function showError(message) {
      errorOutput.textContent = message;
      errorOutput.classList.remove('hidden');
      urlOutput.value = '';
      if (copyBtn) { copyBtn.classList.add('hidden');
    }
  </script>
</Layout>


